(this["webpackJsonppathfinding-visualizer"]=this["webpackJsonppathfinding-visualizer"]||[]).push([[0],{147:function(e,t,n){e.exports=n(306)},152:function(e,t,n){},153:function(e,t,n){},274:function(e,t,n){},306:function(e,t,n){"use strict";n.r(t);var a=n(0),i=n.n(a),r=n(28),c=n.n(r),o=(n(152),n(153),n(315)),s=function(){return i.a.createElement(o.a,{inverted:!0},i.a.createElement(o.a.Item,null,"Pathfinding Visualizer"),i.a.createElement(o.a.Item,{position:"right"},"Created by Gregory Cheng"))},l=n(18),u=n(17),f=n(314),m=n(311),d=n(317),h=(n(274),function(e){var t=e.node,n=e.handleClick,a=t.row,r=t.column,c=t.distanceToDisplay,o=t.state;return i.a.createElement("div",{className:"node ".concat(o),onClick:function(){return n(a,r)}},c===1/0?"?":c)}),p="empty",v="wall",g="visited",b="source",O="target",E="shortest-path",j="ready",w="in_progress",y="done",T=n(130),k=function(e,t){var n,a=C(e,t),i=Object(T.a)(a);try{for(i.s();!(n=i.n()).done;){var r=n.value;r.distance=e.distance+1,r.previousNode=e}}catch(c){i.e(c)}finally{i.f()}},C=function(e,t){var n=[],a=e.row,i=e.column;return e.column>0&&n.push(t[a][i-1]),e.row>0&&n.push(t[a-1][i]),e.column<t[0].length-1&&n.push(t[a][i+1]),e.row<t.length-1&&n.push(t[a+1][i]),n.filter((function(e){return!e.isVisited}))},D=function(e){return e.sort((function(e,t){return e.distance-t.distance}))},S=function(e){var t=[];return e.forEach((function(e){e.forEach((function(e){return t.push(e)}))})),t},V=n(59),z=n.n(V),I="https://pathfinding-visualizer-flask.herokuapp.com/",x=n(318),N=n(316),W=n(313),A=n(310),F=n(131),P=n.n(F),B=function(e){var t=e.animationState,n=e.getAllVisualizations,r=e.history,c=e.restoreVisualization,o=Object(a.useState)(!1),s=Object(u.a)(o,2),l=s[0],m=s[1],h=function(){m(!1)};return i.a.createElement(x.a,{closeOnTriggerClick:!0,openOnTriggerClick:!0,trigger:i.a.createElement(f.a,{disabled:t===w},"View History"),open:l,onOpen:function(){m(!0),n()},onClose:h},i.a.createElement(N.a,{style:{left:"30%",position:"fixed",top:"15%",zIndex:1e3}},i.a.createElement(d.a,null,"History"),i.a.createElement("div",{style:{overflow:"scroll",height:"500px",width:"600px"}},i.a.createElement(W.a,{style:{margin:"1em"}},0===r.length?i.a.createElement(A.a,{active:!0}):r.map((function(e){return i.a.createElement("div",{key:e.id,style:{margin:"1em"}},i.a.createElement(W.a.Item,null,"Walls: ",e.numWalls),i.a.createElement(W.a.Item,null,"Time to complete: ",e.timeToComplete.toFixed(0),"ms"),i.a.createElement(W.a.Item,null,"Nodes Visited: ",e.nodesVisited),i.a.createElement(W.a.Item,null,"Created ",P()(e.created).fromNow()),i.a.createElement(W.a.Item,null,i.a.createElement(f.a,{onClick:function(){c(e.id,e.numWalls),h()}},"Restore")))}))))))},H=14,J=5,R=14,G=40,$=function(){var e=Object(a.useState)([[]]),t=Object(u.a)(e,2),n=t[0],r=t[1],c=Object(a.useState)(0),o=Object(u.a)(c,2),s=o[0],T=o[1],C=Object(a.useState)(0),V=Object(u.a)(C,2),x=V[0],N=V[1],W=Object(a.useState)(j),A=Object(u.a)(W,2),F=A[0],P=A[1],$=Object(a.useState)(!0),_=Object(u.a)($,2),q=_[0],K=_[1],L=Object(a.useState)(!0),M=Object(u.a)(L,2),Q=M[0],U=M[1],X=Object(a.useState)({row:R,column:G}),Y=Object(u.a)(X,2),Z=Y[0],ee=Y[1],te=Object(a.useState)(0),ne=Object(u.a)(te,2),ae=ne[0],ie=ne[1],re=Object(a.useState)([]),ce=Object(u.a)(re,2),oe=ce[0],se=ce[1],le=Object(a.useState)(!1),ue=Object(u.a)(le,2),fe=ue[0],me=ue[1];Object(a.useEffect)((function(){r(de())}),[]);var de=function(){for(var e=[],t=0;t<30;t++){for(var n=[],a=0;a<45;a++)n.push(he(t,a,1/0,p));e.push(n)}return e[H][J]=he(H,J,0,b,!0),e[R][G]=he(R,G,1/0,O,!1),e},he=function(e,t,n,a,i){return{row:e,column:t,distance:n,distanceToDisplay:n,state:a,isVisited:i}},pe=function(){var e=performance.now(),t=function(e){for(var t=[],n=0;n<30;n++){for(var a=[],i=0;i<45;i++)a.push(Object.assign(e[n][i]));t.push(a)}for(var r=[],c=S(t);c.length;){D(c);var o=c.shift();if(o&&o.state!==v){if(o.distance===1/0)return r;if(o.state===O)return r;o.isVisited=!0,r.push(o),k(o,t)}}return[]}(n),a=function(e){for(var t=[],n=e;null!=n;)t.unshift(n),n=n.previousNode;return t}(n[Z.row][Z.column]),i=performance.now();N(i-e),fe&&function(e,t,n,a,i,r){for(var c=[],o=0;o<30;o++){for(var s=[],l=0;l<45;l++){var u=e[o][l];s.push({row:u.row,column:u.column,state:u.state})}c.push(s)}var f={grid:c,currentTarget:t,timeToComplete:n,numWalls:a,nodesVisited:i,shortestPath:r,created:new Date};z.a.post("".concat(I,"new-visualization"),f).then((function(e){return e})).catch((function(e){return console.log(e)}))}(n,Z,i-e,ae,t.length,a.length),t.forEach((function(e,t){0!==t&&setTimeout((function(){var t=n.slice(),a=Object(l.a)({},e,{state:g,distanceToDisplay:e.distance});t[e.row][e.column]=a,r(t),T((function(e){return e+1}))}),100*t)})),a.forEach((function(e,i){0!==i&&i!==a.length-1&&setTimeout((function(){var t=n.slice(),a=Object(l.a)({},e,{distanceToDisplay:e.distance,state:E});t[e.row][e.column]=a,r(t)}),100*t.length+100*i),i===a.length-1&&setTimeout((function(){var t=n.slice(),a=Object(l.a)({},e,{distanceToDisplay:e.distance});t[e.row][e.column]=a,r(t)}),100*t.length+100*(a.length-1))})),setTimeout((function(){P(y)}),100*t.length+100*a.length)};return i.a.createElement(i.a.Fragment,null,i.a.createElement(f.a,{onClick:function(){q&&Q?(P(w),pe()):alert("Please place both a source and a target before proceeding.")},disabled:F!==j},"Dijkstra"),i.a.createElement(f.a,{onClick:function(){F!==w&&(r(de()),P(j),T(0),N(0),ee({row:R,column:G}))},disabled:F===w},"Reset"),i.a.createElement(B,{animationState:F,history:oe,restoreVisualization:function(e,t){(function(e){return z.a.get("".concat(I,"restore-visualization/").concat(e)).then((function(e){return e.data})).catch((function(e){return e}))})(e).then((function(e){for(var n=e.grid,a=[],i=0;i<30;i++){for(var c=[],o=0;o<45;o++)c.push(Object(l.a)({},n[i][o],{distance:n[i][o].state===b?0:1/0,distanceToDisplay:n[i][o].state===b?0:1/0,isVisited:!1}));a.push(c)}r(a),T(0),N(0),P(j),K(!0),U(!0),ee(e.currentTarget),ie(t),me(!1)})).catch((function(e){console.log(e)}))},getAllVisualizations:function(){0===oe.length&&z.a.get("".concat(I,"visualizations")).then((function(e){return e.data})).catch((function(e){return e})).then((function(e){return se(e.results)}))}}),i.a.createElement(m.a,{style:{paddingTop:"5em"}},n.map((function(e,t){return i.a.createElement("div",{key:t},e.map((function(e,t){return i.a.createElement(h,{key:t,node:e,handleClick:function(e,t){return function(e,t){if(me(!0),F===j)if(n[e][t].state===b){var a=n.slice(),i=Object(l.a)({},n[e][t],{state:p,distance:1/0,distanceToDisplay:1/0});a[e][t]=i,r(a),K(!1)}else if(n[e][t].state===O){var c=n.slice(),o=Object(l.a)({},n[e][t],{state:p,distance:1/0,distanceToDisplay:1/0});c[e][t]=o,r(c),U(!1)}else if(n[e][t].state===v){var s=n.slice(),u=Object(l.a)({},n[e][t],{state:p});s[e][t]=u,ie((function(e){return e-1})),r(s)}else if(n[e][t].state===p)if(q)if(Q){var f=n.slice(),m=Object(l.a)({},n[e][t],{state:v,distance:1/0,distanceToDisplay:1/0});f[e][t]=m,ie((function(e){return e+1})),r(f)}else{var d=n.slice(),h=Object(l.a)({},n[e][t],{state:O,distance:1/0,distanceToDisplay:1/0});d[e][t]=h,r(d),U(!0),ee({row:e,column:t})}else{var g=n.slice(),E=Object(l.a)({},n[e][t],{state:b,distance:0,distanceToDisplay:0});g[e][t]=E,r(g),K(!0)}}(e,t)}})})))})),i.a.createElement(d.a,null," Nodes visited: ",s),i.a.createElement(d.a,null," Time to complete: ",x.toFixed(0)," ms")))};var _=function(){return i.a.createElement("div",{className:"App"},i.a.createElement(s,null),i.a.createElement($,null))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));c.a.render(i.a.createElement(_,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[147,1,2]]]);
//# sourceMappingURL=main.2c5fbd68.chunk.js.map