(this["webpackJsonppathfinding-visualizer"]=this["webpackJsonppathfinding-visualizer"]||[]).push([[0],{147:function(e,t,n){e.exports=n(306)},152:function(e,t,n){},153:function(e,t,n){},274:function(e,t,n){},306:function(e,t,n){"use strict";n.r(t);var a=n(0),c=n.n(a),i=n(28),r=n.n(i),o=(n(152),n(153),n(314)),s=function(){return c.a.createElement(o.a,{inverted:!0},c.a.createElement(o.a.Item,null,"Pathfinding Visualizer"),c.a.createElement(o.a.Item,{position:"right"},"Created by Gregory Cheng"))},l=n(18),u=n(17),f=n(313),m=n(317),d=n(315),h=n(316),p=n(312),v=n(310),g=(n(274),function(e){var t=e.node,n=e.handleClick,a=t.row,i=t.column,r=t.distanceToDisplay,o=t.state;return c.a.createElement("div",{className:"node ".concat(o),onClick:function(){return n(a,i)}},r===1/0?"?":r)}),b="empty",O="wall",E="visited",j="source",w="target",y="shortest-path",T="ready",k="in_progress",C="done",D=n(129),S=function(e,t){var n,a=I(e,t),c=Object(D.a)(a);try{for(c.s();!(n=c.n()).done;){var i=n.value;i.distance=e.distance+1,i.previousNode=e}}catch(r){c.e(r)}finally{c.f()}},I=function(e,t){var n=[],a=e.row,c=e.column;return e.column>0&&n.push(t[a][c-1]),e.row>0&&n.push(t[a-1][c]),e.column<t[0].length-1&&n.push(t[a][c+1]),e.row<t.length-1&&n.push(t[a+1][c]),n.filter((function(e){return!e.isVisited}))},V=function(e){return e.sort((function(e,t){return e.distance-t.distance}))},z=function(e){var t=[];return e.forEach((function(e){e.forEach((function(e){return t.push(e)}))})),t},N=n(57),x=n.n(N),W="http://127.0.0.1:5000/",F=n(130),B=n.n(F),H=14,J=5,P=14,R=40,A=function(){var e=Object(a.useState)([[]]),t=Object(u.a)(e,2),n=t[0],i=t[1],r=Object(a.useState)(0),o=Object(u.a)(r,2),s=o[0],D=o[1],I=Object(a.useState)(0),N=Object(u.a)(I,2),F=N[0],A=N[1],G=Object(a.useState)(T),$=Object(u.a)(G,2),_=$[0],q=$[1],K=Object(a.useState)(!0),L=Object(u.a)(K,2),M=L[0],Q=L[1],U=Object(a.useState)(!0),X=Object(u.a)(U,2),Y=X[0],Z=X[1],ee=Object(a.useState)({row:P,column:R}),te=Object(u.a)(ee,2),ne=te[0],ae=te[1],ce=Object(a.useState)(0),ie=Object(u.a)(ce,2),re=ie[0],oe=ie[1],se=Object(a.useState)([]),le=Object(u.a)(se,2),ue=le[0],fe=le[1],me=Object(a.useState)(!1),de=Object(u.a)(me,2),he=de[0],pe=de[1];Object(a.useEffect)((function(){i(ve())}),[]);var ve=function(){for(var e=[],t=0;t<30;t++){for(var n=[],a=0;a<45;a++)n.push(ge(t,a,1/0,b));e.push(n)}return e[H][J]=ge(H,J,0,j,!0),e[P][R]=ge(P,R,1/0,w,!1),e},ge=function(e,t,n,a,c){return{row:e,column:t,distance:n,distanceToDisplay:n,state:a,isVisited:c}},be=function(){var e=performance.now(),t=function(e){for(var t=[],n=0;n<30;n++){for(var a=[],c=0;c<45;c++)a.push(Object.assign(e[n][c]));t.push(a)}for(var i=[],r=z(t);r.length;){V(r);var o=r.shift();if(o&&o.state!==O){if(o.distance===1/0)return i;if(o.state===w)return i;o.isVisited=!0,i.push(o),S(o,t)}}return[]}(n),a=function(e){for(var t=[],n=e;null!=n;)t.unshift(n),n=n.previousNode;return t}(n[ne.row][ne.column]),c=performance.now();A(c-e),function(e,t,n,a,c,i){for(var r=[],o=0;o<30;o++){for(var s=[],l=0;l<45;l++){var u=e[o][l];s.push({row:u.row,column:u.column,state:u.state})}r.push(s)}var f={grid:r,currentTarget:t,timeToComplete:n,numWalls:a,nodesVisited:c,shortestPath:i,created:new Date};x.a.post("".concat(W,"new-visualization"),f).then((function(e){return e})).catch((function(e){return console.log(e)}))}(n,ne,c-e,re,t.length,a.length),t.forEach((function(e,t){0!==t&&setTimeout((function(){var t=n.slice(),a=Object(l.a)({},e,{state:E,distanceToDisplay:e.distance});t[e.row][e.column]=a,i(t),D((function(e){return e+1}))}),100*t)})),a.forEach((function(e,c){0!==c&&c!==a.length-1&&setTimeout((function(){var t=n.slice(),a=Object(l.a)({},e,{distanceToDisplay:e.distance,state:y});t[e.row][e.column]=a,i(t)}),100*t.length+100*c),c===a.length-1&&setTimeout((function(){var t=n.slice(),a=Object(l.a)({},e,{distanceToDisplay:e.distance});t[e.row][e.column]=a,i(t)}),100*t.length+100*(a.length-1))})),setTimeout((function(){q(C)}),100*t.length+100*a.length)},Oe=function(){pe(!1)},Ee=function(){0===ue.length&&x.a.get("".concat(W,"visualizations")).then((function(e){return e.data})).catch((function(e){return e})).then((function(e){return fe(e.results)}))},je=function(e,t){(function(e){return x.a.get("".concat(W,"restore-visualization/").concat(e)).then((function(e){return e.data})).catch((function(e){return e}))})(e).then((function(e){for(var n=e.grid,a=[],c=0;c<30;c++){for(var r=[],o=0;o<45;o++)r.push(Object(l.a)({},n[c][o],{distance:n[c][o].state===j?0:1/0,distanceToDisplay:n[c][o].state===j?0:1/0,isVisited:!1}));a.push(r)}i(a),D(0),A(0),q(T),Q(!0),Z(!0),ae(e.currentTarget),oe(t)})).catch((function(e){console.log(e)}))};return c.a.createElement(c.a.Fragment,null,c.a.createElement(f.a,{onClick:function(){q(k),be()},disabled:_!==T},"Dijkstra"),c.a.createElement(f.a,{onClick:function(){i(ve()),q(T),D(0),A(0)},disabled:_!==C},"Reset"),c.a.createElement(m.a,{closeOnTriggerClick:!0,openOnTriggerClick:!0,trigger:c.a.createElement(f.a,{disabled:_===k},"View History"),open:he,onOpen:function(){pe(!0),Ee()},onClose:Oe},c.a.createElement(d.a,{style:{left:"45%",position:"fixed",top:"20%",zIndex:1e3}},c.a.createElement(h.a,null,"History"),c.a.createElement("div",{style:{overflow:"scroll",height:"500px"}},c.a.createElement(p.a,{style:{margin:"1em"}},ue.map((function(e){return c.a.createElement("div",{key:e.id,style:{margin:"1em"}},c.a.createElement(p.a.Item,null,"Walls: ",e.numWalls),c.a.createElement(p.a.Item,null,"Time to complete: ",e.timeToComplete.toFixed(0),"ms"),c.a.createElement(p.a.Item,null,"Nodes Visited: ",e.nodesVisited),c.a.createElement(p.a.Item,null,"Created ",B()(e.created).fromNow()),c.a.createElement(p.a.Item,null,c.a.createElement(f.a,{onClick:function(){je(e.id,e.numWalls),Oe()}},"Restore")))})))))),c.a.createElement(v.a,{style:{paddingTop:"5em"}},n.map((function(e,t){return c.a.createElement("div",{key:t},e.map((function(e,t){return c.a.createElement(g,{key:t,node:e,handleClick:function(e,t){return function(e,t){if(_===T)if(n[e][t].state===j){var a=n.slice(),c=Object(l.a)({},n[e][t],{state:b,distance:1/0,distanceToDisplay:1/0});a[e][t]=c,i(a),Q(!1)}else if(n[e][t].state===w){var r=n.slice(),o=Object(l.a)({},n[e][t],{state:b,distance:1/0,distanceToDisplay:1/0});r[e][t]=o,i(r),Z(!1)}else if(n[e][t].state===O){var s=n.slice(),u=Object(l.a)({},n[e][t],{state:b});s[e][t]=u,oe((function(e){return e-1})),i(s)}else if(n[e][t].state===b)if(M)if(Y){var f=n.slice(),m=Object(l.a)({},n[e][t],{state:O,distance:1/0,distanceToDisplay:1/0});f[e][t]=m,oe((function(e){return e+1})),i(f)}else{var d=n.slice(),h=Object(l.a)({},n[e][t],{state:w,distance:1/0,distanceToDisplay:1/0});d[e][t]=h,i(d),Z(!0),ae({row:e,column:t})}else{var p=n.slice(),v=Object(l.a)({},n[e][t],{state:j,distance:0,distanceToDisplay:0});p[e][t]=v,i(p),Q(!0)}}(e,t)}})})))})),c.a.createElement(h.a,null," Nodes visited: ",s),c.a.createElement(h.a,null," Time to complete: ",F.toFixed(0)," ms")))};var G=function(){return c.a.createElement("div",{className:"App"},c.a.createElement(s,null),c.a.createElement(A,null))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));r.a.render(c.a.createElement(G,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[147,1,2]]]);
//# sourceMappingURL=main.56fe4b09.chunk.js.map